{% extends 'miyadaiku.themes.base!page_article.html' %}

{% block head %}
  {{ super() }}

  <!-- include boolstrap4 -->
  {{ bootstrap4.load_css(page) }}

  <!-- include jquery.js -->
  {{ jquery.load_js(page) }}

  <!-- include tether.js -->
  {{ tether.load_js(page) }}

  <!-- include boolstrap4 js -->
  {{ bootstrap4.load_js(page) }}

  <!-- include pygments css -->
  {{ pygments.load_css(page) }}
  
  <!-- include font awesome -->
  {{ fontawesome.load_css(page) }}
  
  {{ macros.opengraph(page) }}

  <link rel="stylesheet" href="{{ page.path_to('/static/css/miyadaiku-docs.css')}}">

{% endblock head %}

{% block title %}
  {{ page.title }}
{% endblock title %}

{% block body %}

{% include 'navbar_' + page.lang + '.html' %}

<div class='container'>
  <div class='row'>
    <div class='col-md-3 toc'>
      {% if page.category %}
          {% set items = contents.get_contents(
                 filters={'lang':[page.lang], 
                          'type': ['article'],
                          'category':[page.category]}) %}

          {% for c in items|sort(attribute='order') %}
            {% if c.url == page.url %}
                <div class="current article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                    {{ page.link_to(c) }}</div>

                  <ul>
                    {% for id, elem, text in page.headers %}
                      <li class="header_{{ elem }}">
                        <a href="#{{id}}">{{text}}</a>
                      </li>
                    {% endfor %}
                  </ul>
                </div>
            {% else %}
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  {{ page.link_to(c) }}</div>
                </div>
            {% endif %}
          {% endfor %}
      {% endif %}
    </div>

    <div class='col-md-9 article-body'>
      <a id='page_title' class='header_target'></a>
      <h1>
        {{ page.title }}
      </h1>

      <div class='article-content'>
        {{ page.html }}
      </div>
    </div>
  </div>
</div>

<hr>
<footer>
Copyright &copy; 2017 Atsuo Ishimoto
</footer>

{% endblock body %}
